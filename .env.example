# =============================================================================
# CALIBER Environment Configuration
# =============================================================================
#
# Copy this file to .env and fill in the values.
# NEVER commit .env to version control!
#
# For Railway deployment, set these in Railway Dashboard or via CLI:
#   railway variables set VARIABLE_NAME=value
#
# =============================================================================

# -----------------------------------------------------------------------------
# Environment
# -----------------------------------------------------------------------------
CALIBER_ENVIRONMENT=development
# Options: development, staging, production

# -----------------------------------------------------------------------------
# Database (PostgreSQL 16+)
# -----------------------------------------------------------------------------
# For local development:
CALIBER_DB_HOST=localhost
CALIBER_DB_PORT=5432
CALIBER_DB_NAME=caliber
CALIBER_DB_USER=caliber
CALIBER_DB_PASSWORD=caliber_dev_password
CALIBER_DB_POOL_SIZE=16

# For Railway (auto-set by PostgreSQL plugin):
# DATABASE_URL=${{Postgres.DATABASE_URL}}
# CALIBER_DB_HOST=${{Postgres.PGHOST}}
# CALIBER_DB_PORT=${{Postgres.PGPORT}}
# CALIBER_DB_NAME=${{Postgres.PGDATABASE}}
# CALIBER_DB_USER=${{Postgres.PGUSER}}
# CALIBER_DB_PASSWORD=${{Postgres.PGPASSWORD}}

# -----------------------------------------------------------------------------
# Redis (Caching + Pub/Sub)
# -----------------------------------------------------------------------------
# For local development:
CALIBER_REDIS_URL=redis://localhost:6379

# For Railway (auto-set by Redis plugin):
# CALIBER_REDIS_URL=${{Redis.REDIS_URL}}

# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------
# JWT secret for token signing (generate with: openssl rand -base64 32)
CALIBER_JWT_SECRET=CHANGE_ME_IN_PRODUCTION

# Auth provider: local, workos
CALIBER_AUTH_PROVIDER=local

# WorkOS configuration (required if CALIBER_AUTH_PROVIDER=workos)
# CALIBER_WORKOS_CLIENT_ID=client_xxxxx
# CALIBER_WORKOS_API_KEY=sk_xxxxx
# CALIBER_WORKOS_REDIRECT_URI=https://api.caliber.run/auth/callback

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
# API server port
CALIBER_API_PORT=3000

# CORS allowed origins (comma-separated)
CALIBER_CORS_ORIGINS=http://localhost:3000,https://caliber.run

# Rate limiting (requests per minute per IP)
CALIBER_RATE_LIMIT=100

# -----------------------------------------------------------------------------
# Observability (Optional)
# -----------------------------------------------------------------------------
# Logging level
RUST_LOG=caliber_api=info,tower_http=info

# OpenTelemetry OTLP endpoint for distributed tracing
# CALIBER_OTLP_ENDPOINT=http://localhost:4317

# Trace sampling rate (0.0 to 1.0)
CALIBER_TRACE_SAMPLE_RATE=0.1

# Enable Prometheus metrics endpoint
CALIBER_METRICS_ENABLED=true

# -----------------------------------------------------------------------------
# LLM Services (Optional - for embedding generation)
# -----------------------------------------------------------------------------
# CALIBER_OPENAI_API_KEY=sk-xxxxx
# CALIBER_ANTHROPIC_API_KEY=sk-ant-xxxxx

# Embedding model to use
# CALIBER_EMBEDDING_MODEL=text-embedding-3-small

# -----------------------------------------------------------------------------
# Feature Flags (Optional)
# -----------------------------------------------------------------------------
# Enable WebSocket support
CALIBER_WEBSOCKET_ENABLED=true

# Enable gRPC endpoint
CALIBER_GRPC_ENABLED=true

# Enable GraphQL endpoint
CALIBER_GRAPHQL_ENABLED=false

# Enable MCP (Model Context Protocol) support
CALIBER_MCP_ENABLED=false
